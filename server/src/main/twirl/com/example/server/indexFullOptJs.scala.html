@import com.example.server.WebService.AssetsPath

@()

<!doctype html>
<html>
	<head></head>
	<body>
		@{
			scalajs.html.scripts(
				"client",
				name => {
					val checksum = if (getClass.getResource(s"/$AssetsPath/$name.md5") != null) {
						Some(scala.io.Source.fromResource(s"$AssetsPath/$name.md5").getLines().mkString(""))
							.map(_.trim)
							.filter(_.nonEmpty)
					} else {
						None
					}
					val prefix = checksum
						.map(_ + "-")
						.getOrElse("")
					s"/assets/$prefix$name"
				},
				name => {
					getClass.getResource(s"/$AssetsPath/$name") != null
				}
			)
		}
	</body>
</html>